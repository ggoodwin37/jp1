9-9-2013

It's time to start the Next Big Feature. Just need to decide what it is. Or maybe I should procrastinate and just add some new art and monsters. Yeah, that sounds pretty good.

Need to do some thought experimentation around the build mode button (b-mode). This may really be the feature I was looking for but need to convince myself more before dropping lots of hours on implementation.

Todos:
x fix falling v issue introduced recently.
x add to ER API:
  x(NSArray *)blocksOverlappingRect:(EmuRect)rect;
  this will be used for b-mode (detect what blocks are under touch point) and also used to kill stuff when a redblu turns on. Eventually might be useful for beams or trigger zones. The input rect could correspond to a block or just a 1x1 rect for a touch point.

start prototyping b-mode. for now can just disable d-pad input and add in b-mode input handler. Time slows down. Direct manipulation of some blocks (do we need a special blockProp for these types of blocks?). WorldView can turn on coloring mode for moveable blocks. When a block is getting moved, it should gain velocity. Would be cool to be able to throw blocks somehow, not sure how to implement this with time slowing down though.

idea: stars. these are secret/challenge collectibles. not sure what reward will be, for now just successfully collecting them and finishing the level will be enough. at load time, we count how many stars there are, then show that many grey outlines in upper left. as they collect stars the outlines fill in. the stars should be placed such that they are hard/hidden/interesting to get, with the expectation that the user must still make it back to the exit for the stars to "count".

- test out overlapper code by making redBlus kill you if you are standing inside of one when it turns on. (can just do a check at switch time. no caching of overlappers in place or needed yet).


9-11

roadmap:

- b-mode
  x finish overlapper code in ER
  - branch
  - worldView layer: colored overlays for b-mode. active/inactive, etc.
  - input layer: translate view touches to block*
  - physics: how does dragging blocks work?
  - time input: how do we slow down time? do some spots still need to use real time? (log updater eg).
    - how does direct dragging of blocks work if time is slowed down? gravity will be slowed. so pushes still work by direct propagation, but gravity is effectively off? is that weird?

- layers
  - background sprites
  - event layout
  - generators
  - actor info? maybe all actors should be in a separate layer.

- more assets chunk
  - background tiles
    -
  - more ground
  - more creeps

- long range
  - flesh out event system
  - herds?
  - stars
